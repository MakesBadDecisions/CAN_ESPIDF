; CAN_ESPIDF Display Node - PlatformIO Configuration
; Supported displays: 4.3" (N4R2), 5.0" (N4R8), 7.0" (N4R8), 2.1" Waveshare Round (R8)
; Current target: 4.3" CrowPanel ESP32-S3 (DIS06043H)

[platformio]
src_dir = main
boards_dir = boards

[env:display_node]
platform = espressif32
board = crowpanel-esp32s3-n4r2
framework = espidf

; PSRAM configuration - Quad PSRAM for N4R2
board_build.psram_type = qspi

; Include shared components and select device
build_flags = 
    -DCORE_DEBUG_LEVEL=4
    -DDEVICE_DIS06043H
    -I${PROJECT_DIR}/../shared
    -I${PROJECT_DIR}/components/devices

; Custom partition table
board_build.partitions = partitions.csv

; Extra component directories
board_build.cmake_extra_args = 
    -DEXTRA_COMPONENT_DIRS=${PROJECT_DIR}/../shared

; Serial monitor settings
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Upload settings (adjust port as needed)
; upload_port = COM4
upload_speed = 921600

; Debug settings
debug_tool = esp-builtin
debug_init_break = tbreak app_main

; =============================================================================
; Waveshare ESP32-S3-Touch-LCD-2.1 (2.1" Round, 480x480, R8 - 16MB Flash, 8MB PSRAM)
; =============================================================================
[env:waveshare_2_1]
platform = espressif32
board = waveshare-esp32s3-touch-lcd-2-1
framework = espidf

; PSRAM configuration â€” Octal PSRAM for R8
board_build.psram_type = opi

; Include shared components and select device
build_flags = 
    -DCORE_DEBUG_LEVEL=4
    -DDEVICE_WS_TOUCH_LCD_21
    -I${PROJECT_DIR}/../shared
    -I${PROJECT_DIR}/components/devices

; Custom partition table for 16MB flash
board_build.partitions = partitions_16mb.csv

; Extra component directories
board_build.cmake_extra_args = 
    -DEXTRA_COMPONENT_DIRS=${PROJECT_DIR}/../shared

; Serial monitor settings
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Upload settings (adjust port as needed)
; upload_port = COM4
upload_speed = 921600

; Debug settings
debug_tool = esp-builtin
debug_init_break = tbreak app_main

